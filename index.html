<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz di Compleanno üêØ</title>
  <style>
    :root {
      --bg1: #050816;
      --bg2: #020617;
      --accent: #ff8a3c;
      --accent-soft: rgba(255, 138, 60, 0.22);
      --accent-strong: #ffb347;
      --border-subtle: rgba(255, 255, 255, 0.06);
      --text-main: #f9fafb;
      --text-muted: #9ca3af;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", sans-serif;
      color: var(--text-main);
      background:
        radial-gradient(circle at 0% 0%, rgba(56, 189, 248, 0.12), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(251, 146, 60, 0.18), transparent 55%),
        radial-gradient(circle at 0% 100%, rgba(244, 114, 182, 0.16), transparent 55%),
        linear-gradient(to bottom right, var(--bg1), var(--bg2));
      padding: 16px 10px 22px;
    }

    .frame {
      width: 100%;
      max-width: 960px;
      border-radius: 24px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: radial-gradient(circle at top left, rgba(148, 163, 184, 0.18), transparent 55%),
        radial-gradient(circle at bottom right, rgba(15, 23, 42, 0.96), rgba(15, 23, 42, 0.98));
      box-shadow:
        0 0 0 1px rgba(148, 163, 184, 0.18),
        0 22px 60px rgba(15, 23, 42, 0.95);
      padding: 16px 14px 18px;
      position: relative;
      overflow: hidden;
      margin: 0 auto;
    }

    .frame::before {
      content: "";
      position: absolute;
      inset: -1px;
      background: radial-gradient(circle at top right, rgba(251, 191, 36, 0.12), transparent 55%);
      pointer-events: none;
      mix-blend-mode: screen;
    }

    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 14px;
      position: relative;
      z-index: 1;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 4px 10px 4px 6px;
      border-radius: 999px;
      background: radial-gradient(circle at 0% 0%, rgba(248, 250, 252, 0.18), rgba(15, 23, 42, 0.95));
      border: 1px solid rgba(148, 163, 184, 0.5);
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-muted);
    }

    .pill-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #bbf7d0, #22c55e);
      box-shadow: 0 0 12px rgba(34, 197, 94, 0.85);
    }

    .top-actions {
      display: flex;
      align-items: center;
      gap: 6px;
      opacity: 0.85;
    }

    .dot {
      width: 9px;
      height: 9px;
      border-radius: 999px;
      background: #f97373;
      box-shadow: 0 0 0 1px rgba(248, 113, 113, 0.5);
    }

    .dot:nth-child(2) {
      background: #facc15;
      box-shadow: 0 0 0 1px rgba(250, 204, 21, 0.5);
    }

    .dot:nth-child(3) {
      background: #22c55e;
      box-shadow: 0 0 0 1px rgba(34, 197, 94, 0.5);
    }

    .main {
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.2fr);
      gap: 16px;
      align-items: stretch;
      position: relative;
      z-index: 1;
    }

    @media (max-width: 820px) {
      .frame {
        padding: 14px 10px 16px;
      }
      .top-bar {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
      }
      .main {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 10px 6px 16px;
      }
      .frame {
        border-radius: 18px;
      }
    }

    .card {
      background: linear-gradient(145deg, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.96));
      border-radius: 18px;
      border: 1px solid var(--border-subtle);
      padding: 16px 12px 14px;
      box-shadow: 0 16px 36px rgba(15, 23, 42, 0.85);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 0% 0%, rgba(59, 130, 246, 0.15), transparent 60%);
      opacity: 0.9;
      pointer-events: none;
    }

    .card-inner {
      position: relative;
      z-index: 1;
    }

    h1 {
      font-size: 20px;
      margin: 0 0 4px;
      letter-spacing: 0.02em;
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    h1 span.kern {
      letter-spacing: 0.18em;
      font-size: 13px;
      text-transform: uppercase;
      color: var(--accent-strong);
    }

    .subtitle {
      margin: 4px 0 16px;
      color: #fefce8;
      font-size: 15px;
      font-weight: 600;
      line-height: 1.5;
      text-shadow: 0 0 12px rgba(250, 250, 210, 0.6);
    }

    .meta-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 8px;
    }

    .chip {
      font-size: 11px;
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: #e5e7eb;
      background: radial-gradient(circle at 0 0, rgba(148, 163, 184, 0.32), rgba(15, 23, 42, 0.96));
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .chip-badge {
      width: 14px;
      height: 14px;
      border-radius: 4px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 9px;
      font-weight: 600;
      background: radial-gradient(circle at 30% 0%, rgba(248, 250, 252, 0.96), rgba(148, 163, 184, 0.1));
      color: #0f172a;
    }

    .progress-text {
      font-size: 11px;
      color: var(--text-muted);
      margin-top: 4px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
    }

    form {
      margin-top: 8px;
    }

    .question-step {
      display: none;
      margin-bottom: 12px;
      padding: 10px 9px 8px;
      border-radius: 12px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: radial-gradient(circle at 0 0, rgba(30, 64, 175, 0.28), rgba(15, 23, 42, 0.92));
      min-height: 120px;
    }

    .question-id {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: rgba(148, 163, 184, 0.9);
      margin-bottom: 4px;
    }

    .question-step h3 {
      margin: 0 0 6px;
      font-size: 13px;
      font-weight: 600;
      letter-spacing: 0.02em;
    }

    .answers label {
      display: flex;
      align-items: flex-start;
      gap: 7px;
      font-size: 13px;
      color: #e5e7eb;
      cursor: pointer;
      padding: 4px 4px 3px;
      border-radius: 7px;
      transition: background 0.13s ease, transform 0.08s ease, box-shadow 0.08s ease;
    }

    .answers input[type="radio"] {
      margin-top: 1px;
      accent-color: var(--accent);
      cursor: pointer;
      flex-shrink: 0;
    }

    .answers label:hover {
      background: rgba(30, 64, 175, 0.45);
      box-shadow: 0 0 0 1px rgba(191, 219, 254, 0.3);
      transform: translateY(-0.5px);
    }

    .answer-feedback {
      margin-top: 4px;
      font-size: 11px;
      color: #fbbf24;
      min-height: 14px;
      opacity: 0.95;
    }

    .buttons-row {
      margin-top: 10px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    button {
      border: none;
      border-radius: 999px;
      font-size: 12px;
      padding: 9px 16px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      font-weight: 600;
      white-space: nowrap;
    }

    #prev-btn {
      background: rgba(15, 23, 42, 0.8);
      color: var(--text-muted);
      border: 1px solid rgba(148, 163, 184, 0.7);
    }

    #prev-btn:disabled {
      opacity: 0.4;
      cursor: default;
    }

    #next-btn {
      background: rgba(15, 23, 42, 0.8);
      color: var(--text-main);
      border: 1px solid rgba(148, 163, 184, 0.9);
    }

    #submit-btn {
      background: radial-gradient(circle at 0% 0%, #f97316, #ea580c);
      color: #0b1120;
      box-shadow:
        0 0 14px rgba(248, 250, 252, 0.85),
        0 12px 28px rgba(248, 113, 113, 0.45);
      position: relative;
      overflow: hidden;
      display: none;
    }

    #submit-btn::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(120deg, transparent 0%, rgba(248, 250, 252, 0.45) 46%, transparent 100%);
      opacity: 0;
      transform: translateX(-40%);
      transition: opacity 0.22s ease, transform 0.22s ease;
    }

    #submit-btn:hover::after {
      opacity: 1;
      transform: translateX(30%);
    }

    #result-box {
      margin-top: 10px;
      padding: 10px 9px;
      border-radius: 12px;
      border: 1px solid rgba(251, 191, 36, 0.55);
      background: radial-gradient(circle at 0 0, rgba(251, 191, 36, 0.26), rgba(15, 23, 42, 0.98));
      display: none;
      font-size: 13px;
    }

    #score {
      font-weight: 600;
      margin-bottom: 4px;
      color: #facc15;
    }

    #message {
      color: #e5e7eb;
    }

    .error-hint {
      font-size: 11px;
      color: #fca5a5;
      margin-top: 4px;
      display: none;
    }

    .tiger-panel {
      position: relative;
      border-radius: 18px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: radial-gradient(circle at 0 0, rgba(248, 250, 252, 0.18), rgba(15, 23, 42, 0.96));
      padding: 14px 12px 12px;
      overflow: hidden;
      box-shadow: 0 16px 36px rgba(15, 23, 42, 0.88);
    }

    .tiger-panel::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 80% 0, rgba(248, 113, 113, 0.22), transparent 60%);
      mix-blend-mode: screen;
      opacity: 0.9;
      pointer-events: none;
    }

    .tiger-inner {
      position: relative;
      z-index: 1;
    }

    .tiger-tag {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: rgba(249, 250, 251, 0.9);
      opacity: 0.85;
      margin-bottom: 6px;
    }

    .tiger-name {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 8px;
      margin-bottom: 6px;
    }

    .tiger-name-left {
      font-size: 18px;
      font-weight: 700;
      letter-spacing: 0.16em;
      text-transform: uppercase;
    }

    .tiger-name-right {
      font-size: 11px;
      color: var(--text-muted);
      text-align: right;
    }

    .tiger-orb {
      width: 110px;
      height: 110px;
      margin: 6px auto 4px;
      border-radius: 999px;
      background:
        radial-gradient(circle at 30% 10%, #fef9c3, transparent 52%),
        radial-gradient(circle at 50% 90%, #f97316, #b91c1c);
      position: relative;
      box-shadow:
        0 0 26px rgba(248, 250, 252, 0.65),
        0 0 90px rgba(248, 113, 113, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .tiger-orb::after {
      content: "";
      position: absolute;
      inset: 12px;
      border-radius: 999px;
      border: 1px dashed rgba(15, 23, 42, 0.6);
      opacity: 0.55;
    }

    .tiger-emoji {
      font-size: 54px;
      transform: translateY(3px);
      filter: drop-shadow(0 10px 18px rgba(15, 23, 42, 0.9));
    }

    .tiger-bars {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 5px;
      margin: 6px 2px 2px;
    }

    .bar {
      height: 4px;
      border-radius: 999px;
      background: linear-gradient(to right, rgba(15, 23, 42, 0.9), rgba(249, 250, 251, 0.96));
      position: relative;
      overflow: hidden;
    }

    .bar span {
      position: absolute;
      inset: 0;
      background: linear-gradient(to right, rgba(30, 64, 175, 0.4), rgba(249, 250, 251, 0.96));
      transform-origin: left;
      transform: scaleX(0.7);
    }

    .bar:nth-child(2) span {
      transform: scaleX(0.45);
    }

    .bar:nth-child(3) span {
      transform: scaleX(0.88);
    }

    .tiger-text {
      margin-top: 8px;
      font-size: 12px;
      color: var(--text-muted);
      line-height: 1.4;
    }

    .tiger-text strong {
      color: #fbbf24;
      font-weight: 600;
    }

    .tiger-footer {
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      font-size: 11px;
      color: rgba(209, 213, 219, 0.9);
    }

    .tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 3px 9px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.95);
      border: 1px solid rgba(148, 163, 184, 0.55);
    }

    .tag-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: linear-gradient(to bottom right, #f97316, #ea580c);
      box-shadow: 0 0 9px rgba(248, 250, 252, 0.9);
    }

    .hint {
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <div class="frame">
    <div class="top-bar">
      <div class="pill">
        <div class="pill-dot"></div>
        <span>BIRTHDAY QUIZ SYSTEM ¬∑ V.2.1</span>
      </div>
      <div class="top-actions">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
    </div>

    <div class="main">
      <!-- COLONNA QUIZ -->
      <div class="card">
        <div class="card-inner">
          <h1>
            <span class="kern">FIO ¬∑ B-DAY</span>
            <span>QUIZ</span>
          </h1>
          <p class="subtitle">
            La tigre di via Favorita ha un'unica missione: sopravvivere alle domande e vedere quanto √® allineata al suo super uomo üß†‚ú®
          </p>

          <div class="meta-row">
            <div class="chip">
              <div class="chip-badge">5</div>
              <span>domande a schermate</span>
            </div>
            <div class="chip">
              <div class="chip-badge">‚àû</div>
              <span>tentativi consentiti</span>
            </div>
          </div>
          <div class="progress-text" id="progress-text">Domanda 1, i√†</div>

          <form id="quiz-form">
            <div class="question-step" data-step="0">
              <div class="question-id">Q1 ¬∑ INIT</div>
              <h3>Non √® vero, non far√≤ domande su di me: √® il tuo compleanno, non il mio.</h3>
              <div class="answers">
                <label><input type="radio" name="q1" value="a" /> Grande uomo.</label>
                <label><input type="radio" name="q1" value="b" /> Beh, mi sembra giusto.</label>
                <label><input type="radio" name="q1" value="c" /> Era comunque meglio una pomiciata.</label>
              </div>
              <div class="answer-feedback" data-feedback-for="q1"></div>
            </div>

            <div class="question-step" data-step="1">
              <div class="question-id">Q2 ¬∑ SCENARIO</div>
              <h3>Cosa preferiresti tra:</h3>
              <div class="answers">
                <label><input type="radio" name="q2" value="a" /> Divano, film e play</label>
                <label><input type="radio" name="q2" value="b" /> Serata in discoteca</label>
                <label><input type="radio" name="q2" value="c" /> Cena tranquilla e chiacchiere</label>
              </div>
              <div class="answer-feedback" data-feedback-for="q2"></div>
            </div>

            <div class="question-step" data-step="2">
              <div class="question-id">Q3 ¬∑ SKILL</div>
              <h3>Qual √® il tuo super-potere segreto?</h3>
              <div class="answers">
                <label><input type="radio" name="q3" value="a" /> Addormentarti ovunque in 3 minuti üò¥</label>
                <label><input type="radio" name="q3" value="b" /> Non ti fermi mai üòÇ</label>
                <label><input type="radio" name="q3" value="c" /> Vantarti degli uomini che compri con l'uomo della tua vita.</label>
              </div>
              <div class="answer-feedback" data-feedback-for="q3"></div>
            </div>

            <div class="question-step" data-step="3">
              <div class="question-id">Q4 ¬∑ RED FLAG</div>
              <h3>Cosa odi di pi√π in assoluto?</h3>
              <div class="answers">
                <label><input type="radio" name="q4" value="a" /> Arrivare in ritardo.</label>
                <label><input type="radio" name="q4" value="b" /> Le persone che rispondono "vediamo".</label>
                <label><input type="radio" name="q4" value="c" /> L‚Äôananas sulla pizza.</label>
              </div>
              <div class="answer-feedback" data-feedback-for="q4"></div>
            </div>

            <div class="question-step" data-step="4">
              <div class="question-id">Q5 ¬∑ CORE</div>
              <h3>Cosa deve esserci oggi per renderti davvero felice?</h3>
              <div class="answers">
                <label><input type="radio" name="q5" value="a" /> Tanti regali costosi üéÅ</label>
                <label><input type="radio" name="q5" value="b" /> Le persone a cui vuoi bene ‚ù§Ô∏è</label>
                <label><input type="radio" name="q5" value="c" /> Una torta gigantesca üéÇ</label>
              </div>
              <div class="answer-feedback" data-feedback-for="q5"></div>
            </div>

            <!-- Q6 -->
            <div class="question-step" data-step="5">
              <div class="question-id">Q6 ¬∑ VALUE</div>
              <h3>Quale qualit√† senti pi√π tua?</h3>
              <div class="answers">
                <label><input type="radio" name="q6" value="a" /> La gentilezza silenziosa.</label>
                <label><input type="radio" name="q6" value="b" /> La forza che non mostri sempre.</label>
                <label><input type="radio" name="q6" value="c" /> Il modo in cui fai stare bene gli altri.</label>
              </div>
              <div class="answer-feedback" data-feedback-for="q6"></div>
            </div>

            <!-- Q7 -->
            <div class="question-step" data-step="6">
              <div class="question-id">Q7 ¬∑ HEART</div>
              <h3>Cosa ti rende speciale nelle relazioni?</h3>
              <div class="answers">
                <label><input type="radio" name="q7" value="a" /> La tua lealt√†.</label>
                <label><input type="radio" name="q7" value="b" /> Il modo in cui capisci le persone.</label>
                <label><input type="radio" name="q7" value="c" /> La sensibilit√† con cui affronti tutto.</label>
              </div>
              <div class="answer-feedback" data-feedback-for="q7"></div>
            </div>

            <!-- Q8 -->
            <div class="question-step" data-step="7">
              <div class="question-id">Q8 ¬∑ IMPACT</div>
              <h3>Qual √® il tuo impatto sugli altri?</h3>
              <div class="answers">
                <label><input type="radio" name="q8" value="a" /> Dai stabilit√†.</label>
                <label><input type="radio" name="q8" value="b" /> Rassicuri chi hai accanto.</label>
                <label><input type="radio" name="q8" value="c" /> Porti un'energia unica.</label>
              </div>
              <div class="answer-feedback" data-feedback-for="q8"></div>
            </div>

            <!-- Q9 -->
            <div class="question-step" data-step="8">
              <div class="question-id">Q9 ¬∑ INNER</div>
              <h3>Quale tua forza dovresti riconoscere di pi√π?</h3>
              <div class="answers">
                <label><input type="radio" name="q9" value="a" /> La resilienza.</label>
                <label><input type="radio" name="q9" value="b" /> La tua empatia.</label>
                <label><input type="radio" name="q9" value="c" /> La tua eleganza emotiva.</label>
              </div>
              <div class="answer-feedback" data-feedback-for="q9"></div>
            </div>

            <!-- Q10 -->
            <div class="question-step" data-step="9">
              <div class="question-id">Q10 ¬∑ GROWTH</div>
              <h3>In cosa sei migliorato pi√π di quanto pensi?</h3>
              <div class="answers">
                <label><input type="radio" name="q10" value="a" /> Nel volerti bene.</label>
                <label><input type="radio" name="q10" value="b" /> Nel farti rispettare.</label>
                <label><input type="radio" name="q10" value="c" /> Nel lasciarti andare alle emozioni.</label>
              </div>
              <div class="answer-feedback" data-feedback-for="q10"></div>
            </div>

            <div class="buttons-row">
              <button type="button" id="prev-btn">Indietro</button>
              <button type="button" id="next-btn">Avanti</button>
              <button type="submit" id="submit-btn">Mostra il risultato</button>
              <span class="error-hint" id="error-hint">Seleziona una risposta per continuare.</span>
            </div>

            <div id="result-box">
              <div id="score"></div>
              <div id="message"></div>
            </div>
          </form>
        </div>
      </div>

      <!-- COLONNA TIGRE -->
      <aside class="tiger-panel" aria-label="Tiger Birthday Module">
        <div class="tiger-inner">
          <div class="tiger-tag">PROFILE ¬∑ TIGER MODE</div>

          <div class="tiger-name">
            <div class="tiger-name-left">TIGER</div>
            <div class="tiger-name-right">
              COMPLEANNO USER<br />
              STATUS: ONLINE ‚úÖ
            </div>
          </div>

          <div class="tiger-orb" aria-hidden="true">
            <div class="tiger-emoji">üêØ</div>
          </div>

          <div class="tiger-bars">
            <div class="bar"><span></span></div>
            <div class="bar"><span></span></div>
            <div class="bar"><span></span></div>
          </div>

          <p class="tiger-text">
            Benvenuto nella <strong>Tiger Zone</strong>.<br />
            Ogni risposta aggiorna segretamente il tuo livello di <strong>potenza felina</strong> e la compatibilit√† con il
            festeggiato.
          </p>

          <div class="tiger-footer">
            <div class="tag">
              <span class="tag-dot"></span>
              <span>BIRTHDAY // NIGHT BUILD</span>
            </div>
            <div class="hint">Tip: rispondi d‚Äôistinto, come una tigre.</div>
          </div>
        </div>
      </aside>
    </div>
  </div>

  <script>
    // risposte corrette
    const correctAnswers = { q1: "b", q2: "a", q3: "c", q4: "b", q5: "b" };

    // feedback per ogni risposta
    const answerFeedback = {
      q1: {
        a: "Beh, qualcuno ha scelto bene.",
        b: "Risposta da capra, rispondi bene!",
        c: "Lo penso anche io, ma puoi fare di meglio."
      },
      q2: {
        a: "Comfort zone approvata per il riposo della Tigre.",
        b: "Modalit√† party animal attivata.",
        c: ""
      },
      q3: {
        a: "Skill da gattone professionista del divano.",
        b: "Questo super-potere √® illegale in 12 stati.",
        c: "L‚Äôimportante √® ridere, sempre."
      },
      q4: {
        a: "La puntualit√† √® una forma d‚Äôarte.",
        b: "Questa √® proprio una red flag universale.",
        c: "La comunit√† italiana ti ringrazia."
      },
      q5: {
        a: "Capisco. Ma i soldi non fanno tutto (forse).",
        b: "Questa era la risposta giusta anche a livello morale.",
        c: "Approvo la visione a base di carboidrati."
      },
      q6: {
        a: "La gentilezza che non fai pesare √® una delle cose pi√π rare.",
        b: "La tua forza la vedono tutti, tranne te.",
        c: "Sai creare comfort meglio di un plaid e una serie tv."
      },
      q7: {
        a: "La tua lealt√† √® praticamente a prova di apocalisse.",
        b: "Capire le persone √® il tuo superpotere passivo.",
        c: "La tua sensibilit√† √® un‚Äôarma potentissima, anche quando non te ne accorgi."
      },
      q8: {
        a: "Essere punto fermo non √® da tutti: tu lo fai sembrare normale.",
        b: "Solo la tua presenza abbassa l‚Äôansia generale del 30%.",
        c: "L‚Äôenergia che porti non si compra, si √® e basta."
      },
      q9: {
        a: "Ti rialzi pi√π volte di quante ti dai credito.",
        b: "Sentire cos√¨ tanto gli altri √® un dono, non un difetto.",
        c: "Eleganza emotiva = sapere sentire senza fare casino."
      },
      q10: {
        a: "Stai imparando a sceglierti, e si vede molto pi√π di quanto pensi.",
        b: "Il rispetto che ti dai alza automaticamente il tuo valore percepito (e reale).",
        c: "Lasciarti andare alle emozioni ti rende ancora pi√π vera, non il contrario."
      }
    };

    const form = document.getElementById("quiz-form");
    const resultBox = document.getElementById("result-box");
    const scoreEl = document.getElementById("score");
    const messageEl = document.getElementById("message");
    const prevBtn = document.getElementById("prev-btn");
    const nextBtn = document.getElementById("next-btn");
    const submitBtn = document.getElementById("submit-btn");
    const steps = Array.from(document.querySelectorAll(".question-step"));
    const progressText = document.getElementById("progress-text");
    const errorHint = document.getElementById("error-hint");

    let currentStep = 0;

    function updateStep() {
      steps.forEach((step, index) => {
        step.style.display = index === currentStep ? "block" : "none";
      });

      progressText.textContent = `Domanda ${currentStep + 1} di ${steps.length}`;

      prevBtn.disabled = currentStep === 0;
      nextBtn.style.display = currentStep < steps.length - 1 ? "inline-flex" : "none";
      submitBtn.style.display = currentStep === steps.length - 1 ? "inline-flex" : "none";

      errorHint.style.display = "none";
      resultBox.style.display = "none";
    }

    function hasAnswerForStep(stepIndex) {
      const stepEl = steps[stepIndex];
      const input = stepEl.querySelector("input[type='radio']:checked");
      return !!input;
    }

    prevBtn.addEventListener("click", () => {
      if (currentStep > 0) {
        currentStep--;
        updateStep();
      }
    });

    nextBtn.addEventListener("click", () => {
      if (!hasAnswerForStep(currentStep)) {
        errorHint.style.display = "inline";
        return;
      }
      if (currentStep < steps.length - 1) {
        currentStep++;
        updateStep();
      }
    });

    // feedback immediato al click sulla risposta
    document.querySelectorAll(".answers input[type='radio']").forEach((input) => {
      input.addEventListener("change", () => {
        const name = input.name;   // q1, q2, ...
        const value = input.value; // a, b, c
        const feedbackText = (answerFeedback[name] and answerFeedback[name][value]) or "";

        const stepEl = input.closest(".question-step");
        const fbEl = stepEl.querySelector(".answer-feedback");
        if (fbEl) fbEl.textContent = feedbackText;

        errorHint.style.display = "none";
      });
    });

    form.addEventListener("submit", function (event) {
      event.preventDefault();

      if (!hasAnswerForStep(currentStep)) {
        errorHint.style.display = "inline";
        return;
      }

      let score = 0;
      const total = Object.keys(correctAnswers).length;

      for (let key in correctAnswers) {
        const selected = document.querySelector(`input[name="${key}"]:checked`);
        if (selected && selected.value === correctAnswers[key]) score++;
      }

      let msg = "";
      if (score === total) {
        msg = "Modalit√† TIGRE LEGGENDARIA: Questo test √® il mio regalo per farti capire quanto vali in questa relazione e anche fuori, perch√® a volte in te non vedi la luce che hai, e ricordarti che sei una forza della natura √® un bellissimo regalo! üêØ‚ú®";
      } else if (score >= total - 1) {
        msg = "Quasi full tiger: sei pericolosamente vicino al livello massimo. Mi sa che ti voglio parecchio bene üß°, ma vedi di farle giuste mongol√≤";
      } else if (score >= Math.ceil(total / 2)) {
        msg = "Tiger in training: il potenziale c‚Äô√®, ma serve altro allenamento tra una birra e l‚Äôaltra. üí¨";
      } else {
        msg = "Modalit√† gattino confuso: urge pi√π tempo insieme, debrief e forse una pizza di recupero. üçï";
      }

      scoreEl.textContent = "Hai azzeccato " + score + " su " + total + " risposte esatte.";
      messageEl.textContent = msg;
      resultBox.style.display = "block";
      resultBox.scrollIntoView({ behavior: "smooth", block: "nearest" });
    });

    // Inizializza vista
    updateStep();
  </script>
</body>
</html>
